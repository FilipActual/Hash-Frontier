<!DOCTYPE html>

<meta charset="UTF-8" />

<head>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
    <link rel="icon" type="image/png" href="images/favicon.png" />
    <script data-ad-client="ca-pub-1168395366959706" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

<html>
<link href="styles/style.css" rel="stylesheet" type="text/css" />
<title>Hash Frontier, The Full Stack Field Guide to Bitcoin</title>
<image id="hf_logo" class="hf_logo_start" src="images/HF_HighRes.png"></image>

<div>
    <a href="http://www.twitter.com/HashFrontier">
        <image class="twitter" src="images/twitter.png"></image>
    </a>
</div>

<body>
    <div class="full_stack_field_guide_to_bitcoin">
        <br />
        <p>Last Updated:</p>
        <br />
        <p>1/28/2022 by Justin Filip, <a href="http://www.twitter.com/jlfilip">@jlfilip</a> on Twitter</p>
        <br /><br />
        <div class="title">
            <h1>The Full Stack Field Guide to</h1>
        </div>
        <br /><br />
        <image class="bitcoin" src="images/bitcoins.png"></image>
        <br /><br /><br />

        <b>Note:</b><br><br>You should know that with Bitcoin mining, most people choose to use a mining pool for consistent rewards, and it is a less complex process that is covered in this guide with links to the steps required.
        <br><br>This guide in full will teach you how to set up a full Bitcoin node, a Bitcoin lightning node, an ASIC miner for solo mining, and tell you everything you need to get it done. When you're solo mining Bitcoin, you will be bearing the cost
        of equipment and electricity detailed in this guide. It is up to you to decide your risk tolerance.
        <br /><br /> <b>Click <a href="#solo_content_shortcut_target">here</a> if you just want to connect a miner to a hosted mining pool server for your chosen pool's fee rates, or solo mining server for just a 2% reward fee.</b>
        <br><br> If you feel that this guide ended up being useful to you, you can tip <a href="http://www.twitter.com/jlfilip">@jlfilip</a> on Twitter or this Bitcoin address if you want:
        <br /><br />
        <a href="bitcoin:3FZKNe3d5SKvFizRQ21kVejFA39rBoFdnR">
            <image id="btc_code" class="donation_block" src="images/btc_code.png">
                <br />3FZKNe3d5SKvFizRQ21kVejFA39rBoFdnR
            </image>
        </a>
        <br /><br />
        <br /><br />
        <b>Briefing:</b>
        <br /><br />
        <blockquote class="indent">
            1) You know that Bitcoin is both the most secure and most reliable payments network to ever exist thanks to its definitively finite supply, decentralized network, and portability of private keys. All made possible by open-source cooperation over time
            between Satoshi Nakamoto, the Bitcoin Core volunteer developers, miners, and node operators, made many times more powerful and scalable than VISA’s payments network thanks to the available layer 2 implementations of the lightning network protocol.
            In fact, Bitcoin's network just surpassed VISA's in terms of total volume transacted annually.
            <br /><br /> 2) You also have done a Bitcoin transaction with a wallet on your phone and can confirm it is no harder, and in fact somewhat easier, to use than Venmo and you want to know how to set up all the infrastructure to run a full node,
            your own private pool or connection to a mining pool for solo mining (Bitcoin Lottery), a lightning network node, and you want to do it all on one relatively inexpensive machine with a disaster scenario mitigation plan.
        </blockquote>
        <br /><br />
        <i>I did too.</i>
        <br /><br /> I took some time while deploying this stuff to condense everything that I’ve learned into one spot in order to save you a SIGNIFICANT amount of time researching and debugging, for free, in hopes that it will bridge the gap to the
        coming surge of individual decentralized mining and network implementation specialists that can help others further, redundantly secure the network. It would be beneficial for hash rate decentralization to continue well into the future.
        <br><br><br>
        <b>What you’re deploying today:</b>
        <br /><br />
        <blockquote class="indent">
            1) A full Bitcoin node
            <br /> 2) An ASIC Bitcoin miner
            <br /> 3) A Bitcoin mining pool server
            <br /> 4) A lightning network node
            <br /> 5) A disaster scenario mitigation plan
        </blockquote>
        <br /><br />
        <b>You should be already familiar with or are prepared to Google:</b>
        <br /><br />
        <blockquote class="indent">
            6) How to use a Linux terminal
            <br /> 7) How to execute a script
            <br /> 8) How to configure a router
            <br /> 9) How to install a hard drive
            <br /> 10) How to configure a BIOS
            <br /> 11) How to read instructions
        </blockquote>
        <br /><br />
        <h3>Table of Contents</h3>
        <br /><br />

        <!--  -->
        <!--  -->
        <!--  -->

        <a href="#hardware-requirements-and-configuration"><b>Hardware Requirements and Configuration</b></a>
        <br /><br /> 1) Get and Configure a Computer
        <br /><br />
        <blockquote class="indent">
            a. What do I need other than the computer?
            <br /> b. What’s the recommended hardware specification?
            <br /> c. Wipe the machine, install, and update Ubuntu
            <br /> d. Configure power settings
        </blockquote>
        <br /><br /> 2) Get and Re-flash an ASIC Miner
        <br /><br />
        <blockquote class="indent">
            a. What do I need other than the ASIC Bitcoin miner?
            <br /> b. What’s the best place to get an ASIC Bitcoin miner?
            <br /> c. Where do I get the firmware?
            <br /> d. How do I re-flash it?
            <br /> e. How do I confirm that it is working?
        </blockquote>
        <br /><br /> 3) Configure Your Router
        <br /><br />
        <blockquote class="indent">
            a. What kind of router should I have?
            <br /> b. What settings need to be changed?
        </blockquote>
        <br /><br />
        <a href="#software-requirements-and-configuration"><b>Software Requirements and Configuration</b></a>
        <br /><br /> 1) Install the Prerequisite Packages
        <br /><br /> 2) Install the Bitcoin Core Client (<a href="http://www.bitcoin.org">bitcoin.org</a>)
        <br /><br />
        <blockquote class="indent">
            a. Installation steps
            <br /> b. How do I confirm that it is working?
        </blockquote>
        <br /><br /> 3) Set Up a Private Mining Pool (<a href="https://github.com/zone117x/node-open-mining-portal">Node Open Mining
      Portal</a>)
        <br /><br />
        <blockquote class="indent">
            a. Installation steps
            <br /> b. How do I confirm that it is working?
        </blockquote>
        <br /><br /> 4) Set Up a Lightning Network Node (<a href="https://github.com/lightningnetwork/lnd">LND</a>)
        <br /><br />
        <blockquote class="indent">
            a. Installation steps
            <br /> b. How do I confirm that it is working?
        </blockquote>
        <br /><br />
        <a href="#disaster-scenario-preparation"><b>Disaster Scenario Preparation</b></a>
        <br /><br /> 1) What If the Power Goes Out?
        <br /><br />
        <blockquote class="indent">a. UPS battery backups</blockquote>
        <br /><br /> 2) What If the Internet Goes Down?
        <br /><br />
        <blockquote class="indent">
            a. Houston, we have a problem...
            <br /> b. Connect to the Bitcoin network via satellite
        </blockquote>
        <br /><br /><br />

        <!--  -->
        <!--  -->
        <!--  -->

        <a id="hardware-requirements-and-configuration">
            <h1>Hardware Requirements and Configuration</h1>
        </a>
        <br /><br />
        <h3><i>Get and Configure a Computer</i></h3>
        <br /><br /> You will need a separate machine to run everything on, I do not suggest deploying all of this on a machine that you use even semi-regularly in order to avoid accidents and configuration conflicts. This “server” we’re setting up should
        live on its own and be able to be powered on all the time.
        <br /><br /><br />
        <b>1) What do I need other than the computer?</b>
        <br /><br />
        <blockquote class="indent">
            a. A 4GB or larger flash drive for creating OS installation media.
            <br /><br /> b. A second computer (Mac or PC is fine) or the ability to make installation media on the machine you plan to use for this guide.
            <br /><br /> c. An ethernet cable to directly connect the machine to your router.
            <br /><br /> d. A cheap screen for setup and monitoring.
        </blockquote>
        <br /><br />
        <b>2) What’s the recommended hardware specification?</b>
        <br /><br /> You won’t need a very powerful computer and you can use a desktop or laptop machine; form factor does not matter. Each application we’ll be using requires a minimal amount of compute power and memory; together, still negligible. I’ve
        outlined some basic requirements that should be more than enough to cover our needs for many years to come:
        <br /><br />
        <blockquote class="indent">
            a. Processor: Quad core or better (Brand does not matter).
            <br /><br /> b. RAM: 6GB.
            <br /><br /> c. Hard Drive: 1TB or larger SSD or HDD (Bigger is better; Bitcoin’s blockchain will continue to grow forever, but you should be able to get away with 1TB for another handful of years).
            <br /><br /> d. Networking: An ethernet port.
        </blockquote>
        <br /><br />
        <b>3) Wipe the machine, install, and update Ubuntu</b>
        <br /><br /> You should be able to do this without issue, otherwise you can google how to do it. You may have to make some changes in your BIOS to be able to boot from USB and if you’re using a machine that came with a recent version of Windows
        installed, you may need to turn off disk encryption as well.
        <br /><br /> Once booted to the installation media, you should choose to wipe the entire disk and install Ubuntu. None of the other steps other than selecting your time zone and choosing to login automatically at startup are critical for our purposes.
        <br /><br /> Once you are rebooted into Ubuntu without the installation media attached to the machine, we need to make sure everything is up to date before we start installing things. Software updater may pop up with some updates ready to install.
        You can use that or run the following command in a terminal:
        <br /><br />
        <code>sudo apt-get update && sudo apt-get upgrade</code>
        <br /><br /> Once it is finished, reboot the system using the prompt from software updater or the following command:
        <br /><br />
        <code>reboot</code>
        <br /><br /><br />
        <b>4) Configure power settings</b>
        <br /><br /> After the machine has finished booting back up, open the settings application and make sure the following criteria are true:
        <br /><br />
        <blockquote class="indent">
            a. Never blank screen.
            <br /> b. Automatic suspend off.
            <br /> c. Power button action set to “Nothing”.
        </blockquote>
        <br /> The goal is to never let anything interfere with Bitcoin Core or any of the other applications we’re installing.
        <br /><br /> You don’t have to, but I like to turn off the Bluetooth radio as well because it shouldn’t ever be needed.
        <br /><br /><br />
        <h3><i><a id="solo_content_shortcut_target">Get and Re-flash an ASIC Miner</a></i>
        </h3>
        <div id="solo_content_body" class="solo_content_shortcut">
            <br /><br /> If you want to mine Bitcoin, you’re going to need an ASIC (Application Specific Integrated Circuit) device designed specifically for mining. It will cost you ~$500 for one of the devices I'll be using in this guide, and you'll
            want to make sure it includes a power supply or buy one separately.
            <br><br> It will also cost you about $50 a month in electricity usage to run it, and you'll want to avoid peak hours electricity rates in most cases unless you really want to make sure you're always hashing to increase your chances. In some
            cases, you can just pipe the heat into your living space and subsizide your heating bill to help cover this cost. With pool mining, in many cases your electricity cost will be covered and that profit margin can be extended further if you no
            longer need to run your home HVAC heater.
            <br><br> There are a few manufacturers for these devices and each one makes a few different models with different hashing rates. You’ll commonly see hash ratings anywhere between 10TH/s to 120TH/s (Tera-hash per second).
            <br /><br /> For the purposes most of this guide, we’ll be using an Antminer S9 and we’ll be solo mining. However, there will be instructions in the testing steps that can guide you to adding your miner to a hosted pool mining server. Solo
            mining means you’re attempting to solve a block in the Bitcoin blockchain by yourself instead of contributing your hash power to a collective or “pool” that then splits the reward for one of its contributors mining a block according to the
            hash power contributed by the miner participants in the pool.
            <br /><br /><br />
            <b>1) What’s the best place to get an ASIC Bitcoin miner?</b>
            <br /><br /> There are a few resellers that you can buy an ASIC Bitcoin miner from, including from listings on Amazon and eBay, but I like to watch for deals that <a href="http://www.twitter.com/kaboomracks">@kaboomracks</a> has. I just got
            an S9 delivered in fantastic shape for $499.00 from them (Including the power supply). You may also find good deals from other private parties, I suggest asking around Bitcoin Twitter.
            <br /><br /><br />
            <b>2) What do I need other than the ASIC Bitcoin miner?</b>
            <br /><br />
            <blockquote class="indent">
                a. An Ethernet cable.
                <br /><br /> b. An 8GB microSD card and means to read/write from/to it.
                <br /><br /> c. A power cable. Many refurbished or used miners do not come with one, but you can make one or find adapters that will allow you to use the 220v power outlet installed for clothes dryers in most American homes. These outlets
                are typically labeled with their type (Ex: NEMA 14-30R, 10-30R, etc.) Most ASICs, including Antminer’s S9, are designed to use 220v power. 110v power is not recommended because it will draw around double the amperage to compensate, which
                is extremely inefficient and may damage your power supply and/or miner if it doesn’t trip your breaker first.
                <br /><br /> d. A heat dissipation plan. A popular method is using a vent hose and fan shroud to pipe the heat from the back of the S9 to a clothes dryer exhaust vent or directly into your furnace air intake or living space to help heat
                your home or workspace. There are shrouds made specifically for the S9 available online.
                <br /><br /> e. A sound isolation plan. If you have a separate room for laundry or the furnace, you’re going to want to take full advantage of the isolation that provides. ASICs are loud but make no more than ‘white noise’ in effect if
                they are in an enclosed room. Mounting foam to the back of the door can help decrease noise further, or you can replace the stock fans with these <a href="https://www.google.com/search?q=AC+Infinity+CLOUDLINE+T4%2C+Quiet+4%E2%80%9D+Inline+Duct+Fan&sxsrf=AOaemvIMkW1hrVhnvVHd8o2symGcXlt2SA%3A1642723969964&ei=gfrpYd-pOv7H0PEP0Ka9oA0&ved=0ahUKEwif7sXVx8H1AhX-IzQIHVBTD9QQ4dUDCA4&uact=5&oq=AC+Infinity+CLOUDLINE+T4%2C+Quiet+4%E2%80%9D+Inline+Duct+Fan&gs_lcp=Cgdnd3Mtd2l6EAMyBQgAEIAEMgYIABAWEB46BwgAEEcQsAM6BwgAELADEEM6CggAEIAEEIcCEBRKBAhBGABKBAhGGABQ-BFYuU9gyFRoB3ACeACAAWmIAdABkgEDMC4ymAEAoAECoAEByAEKwAEB&sclient=gws-wiz">AC Infinity CLOUDLINE T4, Quiet 4” Inline Duct Fans</a>                and some fittings for an ultra quiet setup, like this:
                <br><br>

                <blockquote class="indent">
                    <div class="media_container"><i>A picture of the completed miner assemblys & a video showing the sound of the miners compared to the standard HVAC<br> 50% volume on earbuds/headphones in a quiet room is close to accurate, video always changes sound somewhat.</i><br><br>
                        <img class="media_1" src="https://i.imgur.com/zFoESH7.jpeg"></img>
                        <iframe class="media_2" src="https://www.youtube.com/embed/PFhBlWmuoeo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        <!-- <img class="media_size_1" src="https://i.imgur.com/zFoESH7.jpeg"></img> -->
                    </div>

                </blockquote>
                <br><br> In this situation, you'll likely want to <a href="https://www.google.com/search?q=adjust+antminer+s9+hashrate&oq=adjust+antminer+s9+hashrate&aqs=chrome..69i57j33i22i29i30l9.3403j0j9&sourceid=chrome&ie=UTF-8">adjust the miner's hashrate</a>                according to how the fans perform in your environment. I like to keep my S9s chip temperature reading under 100°C, which will be displayed in the miner dashboard.
                <br><br> In a house, you might choose to put your miners next to your HVAC unit and duct the heat into the unit air intake. HVAC units are typically in basements or isolated closets, granting additional sound deadening to the point of
                near silence.
                <br><br> <b>Click <a href="#solo_mining_pool_connection_instructions">here</a> if you have everything listed up to this point and are ready to connect to a hosted mining pool server or solo mining pool server.</b>
                <br /><br /> a. Firmware can be found on the manufacturer’s website. I recommend starting with flashing the original firmware and upgrading it through the miner’s web interface to the latest version.
                <a href="https://file12.bitmain.com/shop-product/firmware/t9%2B%20-SD%20Tools.zip">Here is a link to the original
                firmware</a> for the Antminer S9.
            </blockquote>
        </div>

        <br /><br />
        <b>5) How do I re-flash it</b>
        <blockquote class="indent">
            <br /> a. Format your microSD card as FAT32 and copy the contents of the zip archive you downloaded in the last step to it.
            <br /><br /> b. While unplugged, set the jumper on the control board of the miner is to flash mode.
            <a href="https://support.bitmain.com/hc/en-us/articles/360019493654-S9-series-S9-S9i-S9j-S9-Hydro-Control-Board-Program-Recovery">Here
        is a guide from Antminer</a>, for reference. <br /><br /> c. insert the microSD card into your S9’s control board, connect the power supply to it, and power it on. You do not have to have the hashing boards plugged in. Wait 90 seconds
            and then turn off and disconnect the power supply.
            <br /><br /> d. Set the jumper on the control board back to operation mode, connect the miner to your network with an ethernet cable, and plug in and power on the miner. Access the control dashboard by typing in the miner’s IP address into
            your web browser. You can get the IP address for your miner easily by checking the connected devices on your router. Be patient, it may not show up right away. The credentails should be "root" and "admin" for user and password, respectively.
            Check the manufacturer's documentation for the default credentials if this does not work, your milage may vary.
            <br /><br /> e. Upgrade the firmware on the S9 to the latest version via the miner’s web interface, using the
            <a href="https://service.bitmain.com/support/download?product=Antminer%20S9">firmware upgrade file from the
        manufacturer’s website</a>.
        </blockquote>
        <br /><br />
        <b><a id="solo_mining_pool_connection_instructions">6) How do I confirm that it is working?</a></b>
        <br /><br /> We’re going to point the miner at a solo mining pool known as
        <a href="https://solo.ckpool.org/">ckpool</a>. Visit the miner configuration tab of your S9's web interface by visiting the local IP address of the miner in a browser. You can get the IP address from your router's DHCP server client list, likely
        in the advanced settings or under "LAN" in the <a href="https://www.lifewire.com/accessing-your-router-at-home-818205#:~:text=Do%20this%20by%20typing%20the,and%20access%20the%20admin%20settings.">web portal</a>, enter the details as follows for
        the pool information, not including the “(” and “)” characters. The remaining slots on the dashboard can be left blank: <br /><br /> Address: <code>solo.ckpool.org:3333</code>
        <br /> User: (A Bitcoin Receiving Address. You can generate one from any Bitcoin wallet where you are the sole custodian of the private key.)
        <br /> Password: (Literally anything you want, just not blank)
        <br /><br /> After a few minutes, your miner will sound like it is ramping down. This means the initial checks are complete and it is about to start hashing. Continually refresh the miner status page to see new information about what the miner
        is doing. It may take a few minutes for information to appear.
        <br /><br /> If your goal was simply to get set up for solo mining and you don’t mind that ckpool will take 2% of the reward if you find a block, then you can stop here. You are officially solo mining. However, if you don’t want to have to trust
        ckpool or if you want to set up your own mining pool in general so you don’t have to profit share, continue with this guide.
        <br><br><b>You can also configure your miner to use a hosted pool mining server by following the same steps, with your selected pool address from <a href="https://help.slushpool.com/en/support/solutions/articles/77000422800-bitcoin-mining-setup-on-slush-pool-%E2%98%85">this guide</a>        and a worker name instead of a receiving address. You'll need to complete a few additional steps they've outlined on that page.</b>
        <br /><br /><br />
        <h3><i>Configure Your Router</i></h3>
        <br /><br />
        <b>1) What kind of router should I have?</b>
        <br /><br /> You should have a router that is a separate device from the modem your internet provider supplied to you. If you have a modem/router combo device from your internet provider, you can purchase a separate router and bypass the router
        inside the combo device, treating it specifically as a modem. Anything manufactured within the last 10 years should do just fine.
        <br /><br /><br />
        <b>2) What settings need to be changed?</b>
        <br /><br />
        <blockquote class="indent">
            a. Ports
            <br /><br />
            <div class="indent">
                You will need to set up port forwarding for the following ports: 8332, 8333, 9735, 1009, 3256, 3032, 3008, 3333
            </div>
            <br />
            <div class="indent">
                Please consult your router manual or the internet on how to do this if you are not sure.
            </div>
            <br /><br /> b. Addressing
            <br /><br />
            <div class="indent">
                You will need to assign static IP addresses for both the computer you’re intending to set everything up on and for the ASIC device.
            </div>
            <br /><br /> c. Security
            <br /><br />
            <div class="indent">
                Your router interface and Wi-Fi network should be secured with a reasonably difficult to guess password using at least the WPA2 security protocol.
            </div>
            <br /><br /> d. Power
            <br /><br />
            <div class="indent">
                Your router should NOT be set to reboot on any interval. You want to ensure that your computer will remain connected consistently.
            </div>
        </blockquote>

        <!--  -->
        <!--  -->
        <!--  -->

        <br /><br /><br />
        <a id="software-requirements-and-configuration">
            <h1>Software Requirements and Configuration</h1>
        </a>
        <br /><br />
        <h3><i>Install the Prerequisite Packages</i></h3>
        <br /><br /> 1) On the computer you’re intending to set everything up on, you’ll need to install a few packages that are required by all the applications we’re about to install. You can do this all in one go by running the following command in
        the terminal:
        <br /><br />
        <code>sudo add-apt-repository ppa:longsleep/golang-backports && sudo apt
        update && sudo apt install git build-essential libtool autotools-dev
        automake pkg-config libssl-dev libevent-dev bsdmainutils
        libboost-system-dev libboost-filesystem-dev libboost-chrono-dev
        libboost-program-options-dev libboost-test-dev libboost-thread-dev
        libminiupnpc-dev libdb5.3++ libdb5.3++-dev libzmq3-dev qt5-default
        qttools5-dev-tools golang-go</code>
        <br><br>Many prompts will appear, to which you'll basically just need to say yes.
        <br /><br /> 2) You’ll also need to set some networking defaults in Ubuntu. Run this command in the terminal:
        <br /><br />
        <code>sudo ufw allow ssh && sudo ufw allow 8332 && sudo ufw allow 8333 &&
        sudo ufw allow 9735 && sudo ufw allow 1009 && sudo ufw allow 3256 &&
        sudo ufw allow 3032 && sudo ufw allow 3008 && sudo ufw allow 3333 &&
        sudo ufw default allow incoming && sudo ufw default allow outgoing &&
        sudo ufw enable && sudo iptables -A INPUT -p tcp --dport 9735 -j ACCEPT
        && sudo iptables -A INPUT -p udp --dport 9735 -j ACCEPT && sudo
        iptables-save</code>
        <br /><br /> 3) Then, we’ll need to install NodeJS and Redis:
        <br /><br />
        <code>sudo snap install node --channel=14 --classic && sudo snap install
        redis</code>
        <br /><br /><br />
        <h3><i>Install the Bitcoin Core Client (<a href="http://www.bitcoin.org">bitcoin.org</a>)</i></h3>
        <br /><br />
        <b>a. Installation steps</b>
        <br /><br /> We are going to build Bitcoin Core from scratch so that we can include a few extras that are required to run an LND lightning node.
        <br /><br />
        <blockquote class="indent">
            1) Open a terminal and run the following command with the version (v22.0) of your choice from Bitcoin's <a href="https://github.com/bitcoin/bitcoin/releases">git repository releases page</a>:
            <br /><br />
            <code>sudo git clone -b v22.0 https://github.com/bitcoin/bitcoin.git &&
          cd bitcoin && sudo ./autogen.sh && sudo ./configure --enable-cxx --with-zmq
          --with-incompatible-bdb --with-gui --enable-util-cli --enable-util-tx
          --enable-util-wallet && sudo make -j "$(($(nproc)+1))" && sudo make
          install</code>
            <br /><br /> 2) Once completed, launch the Bitcoin Core client GUI using the following command:
            <br /><br />
            <code>bitcoin-qt</code>
            <br /><br /> 3) Once loaded, choose to use the default data directory and DO NOT select the option to discard blocks after verification. Continue and after the main client window loads, hide the block synchronization progress message and click
            “Create a new wallet”.
            <br /><br /> 4) Give the wallet a name and check “Encrypt Wallet”. Click “Create” and provide a password for the wallet.
            <br /><br /> 5) Click “OK” and “Yes” to the warning you about the password. Write the password down and do not ever lose it; this password along with the ~/.bitcoin data directory are CRITICAL to have a backup of just in case your hard drive
            fails, as it is the only way you will recover any bitcoin sent to this wallet in that scenario.
            <br /><br /> 6) Open the “Settings” menu, choose “Options…”
            <br /><br /> 7) Make sure that “Start Bitcoin Core on system login” is checked.
            <br /><br /> 8) Click “Open Configuration File” and paste the following into it, then define the rpcuser and rpcpassword parameters as whatever you like. These will be used later for mining pool configuration. Set the blank rpcallowip parameter
            to the local IP address of your ASIC miner.
            <br /><br />
            <code>
          server=1
          <br>daemon=1
          <br>listen=1
          <br>rpcuser=
          <br>rpcpassword=
          <br>rpcallowip=
          <br>rpcallowip=127.0.0.1
          <br>rpcport=8332
          <br>rpcworkqueue=32
          <br>zmqpubrawblock=tcp://127.0.0.1:18501
          <br>zmqpubrawtx=tcp://127.0.0.1:18502
        </code>
            <br /><br /><br />
        </blockquote>
        <b>b. How do I confirm that it is working?</b>
        <br /><br />
        <blockquote class="indent">
            1) Reboot the machine to ensure that Bitcoin Core starts back up on its own. Then, test that everything is working so far by running the following command in a terminal:
            <br /><br />
            <code>bitcoin-cli getbestblockhash</code>
            <br /><br /> 2) If you don’t get any errors in return, you are in good shape. In the Bitcoin Core GUI, you should see that blocks are synchronizing. This may take many hours. At the time of writing this guide (10/11/2021), Bitcoin’s blockchain
            is over 420GB in size.
            <br /><br /> 3) Double check that the port for the Bitcoin Core client is properly configured by visiting
            <a href="https://bitnodes.io/">the Bitnodes website</a> and checking the status of your node.
        </blockquote>
        <br /><br />
        <h3><i>Set Up a Private Mining Pool (<a href="https://github.com/zone117x/node-open-mining-portal">NOMP</a>)</i>
        </h3>
        <br /><br />
        <b>a. Installation steps</b>
        <br /><br /> We are going to use Node Open Mining Portal for the mining pool server.
        <br /><br />
        <blockquote class="indent">
            1) Open a terminal and run the following command:
            <br /><br />
            <code>git clone https://github.com/zone117x/node-open-mining-portal.git
          nomp && cd nomp && npm update</code>
            <br /><br /> 2) Remove the example config file and create a new one:
            <br /><br />
            <code>sudo rm config_example.json && sudo nano config.json</code>
            <br /><br /> 3) Paste the following into the file:
            <br /><br />
            <div class="code_block">
                <code>
            <pre>
{
    "logLevel": "debug",
    "logColors": true,

    "cliPort": 17117,

    "clustering": {
        "enabled": true,
        "forks": "auto"
    },

    "defaultPoolConfigs": {
        "blockRefreshInterval": 1000,
        "jobRebroadcastTimeout": 55,
        "connectionTimeout": 600,
        "emitInvalidBlockHashes": false,
        "validateWorkerUsername": true,
        "tcpProxyProtocol": false,
        "banning": {
            "enabled": true,
            "time": 600,
            "invalidPercent": 50,
            "checkThreshold": 500,
            "purgeInterval": 300
        },
        "redis": {
            "host": "127.0.0.1",
            "port": 6379
        }
    },

    "website": {
        "enabled": false,
        "host": "0.0.0.0",
        "port": 80,
        "stratumHost": "cryppit.com",
        "stats": {
            "updateInterval": 60,
            "historicalRetention": 43200,
            "hashrateWindow": 300
        },
        "adminCenter": {
            "enabled": true,
            "password": ""
        }
    },

    "redis": {
        "host": "127.0.0.1",
        "port": 6379
    },

    "switching": {
        "switch1": {
            "enabled": false,
            "algorithm": "sha256",
            "ports": {
                "3333": {
                    "diff": 10,
                    "varDiff": {
                        "minDiff": 16,
                        "maxDiff": 512,
                        "targetTime": 15,
                        "retargetTime": 90,
                        "variancePercent": 30
                    }
                }
            }
        },
        "switch2": {
            "enabled": false,
            "algorithm": "scrypt",
            "ports": {
                "4444": {
                    "diff": 10,
                    "varDiff": {
                        "minDiff": 16,
                        "maxDiff": 512,
                        "targetTime": 15,
                        "retargetTime": 90,
                        "variancePercent": 30
                    }
                }
            }
        },
        "switch3": {
            "enabled": false,
            "algorithm": "x11",
            "ports": {
                "5555": {
                    "diff": 0.001,
                    "varDiff": {
                        "minDiff": 0.001,
                        "maxDiff": 1, 
                        "targetTime": 15, 
                        "retargetTime": 60, 
                        "variancePercent": 30 
                    }
                }
            }
        }
    },

    "profitSwitch": {
        "enabled": false,
        "updateInterval": 600,
        "depth": 0.90,
        "usePoloniex": true,
        "useCryptsy": true,
        "useMintpal": true,
        "useBittrex": true
    }
}</pre
            >
          </code>
            </div>
            <br /><br /> 4) Save and exit the file. Then, remove the example coin config file and create a new one:
            <br /><br />
            <code>sudo rm pool_configs/litecoin_example.json && sudo nano
          pool_configs/bitcoin.json</code>
            <br /><br /> 5) Paste the following into the file:
            <br /><br />
            <div class="code_block">
                <code>
            <pre>
{
    "enabled": true,
    "coin": "bitcoin.json",

    "address": "3MGXaJk6YUBA5b2hkHMBZ7ppTryWjkNHJw",

    "rewardRecipients": {
    },

    "paymentProcessing": {
        "enabled": false,
        "paymentInterval": 20,
        "minimumPayment": 70,
        "daemon": {
            "host": "127.0.0.1",
            "port": 8332,
            "user": "",
            "password": ""
        }
    },

    "ports": {
        "3008": {
            "diff": 8
        },
        "3333": {
            "diff": 32,
            "varDiff": {
                "minDiff": 8,
                "maxDiff": 512,
                "targetTime": 15,
                "retargetTime": 90,
                "variancePercent": 30
            }
        },
        "3256": {
            "diff": 256
        }
    },

    "daemons": [
        {
            "host": "127.0.0.1",
            "port": 8332,
            "user": "",
            "password": ""
        }
    ],

    "p2p": {
        "enabled": false,
        "host": "127.0.0.1",
        "port": 8333,
        "disableTransactions": true
    },

    "mposMode": {
        "enabled": false,
        "host": "127.0.0.1",
        "port": 3306,
        "user": "me",
        "password": "mypass",
        "database": "ltc",
        "checkPassword": true,
        "autoCreateWorker": true
    }

}
</pre
            >
          </code>
            </div>
            <br /><br /> 6) Replace the address in the third key (“address”) with your own Bitcoin receiving address generated by running the following command in a separate terminal window:
            <br /><br />
            <code>bitcoin-cli getnewaddress -addresstype p2sh-segwit</code>
            <br /><br /> 7) Under the “daemons” key, provide the “rpcuser” and “rpcpassword” you set in the bitcoin.conf file when you set up the Bitcoin Core client. It is located at “~/.bitcoin”.
            <br /><br /> 8) Save and exit the file.
            <br /><br />
        </blockquote>
        <br /><br />
        <b>b. How do I confirm that it is working?</b>
        <br /><br />
        <blockquote class="indent">
            1) Run the following command:
            <br /><br />
            <code>sudo node init.js</code>
            <br /><br /> You’ll see a lot of messages, but they should settle to ones from [Pool] every minute stating that there are no new blocks after 55 seconds. You can now point your ASIC miner to your new private mining pool. On the miner configuration
            screen in the ASIC web interface, input the following details without the "(" and ")" characters:
            <br><br> Address: stratum+tcp://(Local IP address of your node & pool computer):3333
            <br /> User: (Literally anything you want, just not blank)
            <br /> Password: (Literally anything you want, just not blank)
            <br><br> After a few minutes, your miner will sound like it is ramping down as initial checks are completed and it begins hashing. Continually refresh the miner status page to see new information about what the miner is doing. It may take
            a few minutes for information to appear.
            <br><br>Any reward received from mining a block will be sent to the Bitcoin receiving address you set in the coin configuration file.
        </blockquote>
        <br /><br />
        <h3><i>Set Up a Lightning Network Node (<a href="https://github.com/lightningnetwork/lnd">LND</a>)</i></h3>
        <br><br>Learn about the Lightning Network here: <a href="https://lightning.network/">https://lightning.network/</a>, or here for a more advanced look: <a href="https://dev.lightning.community/overview/">https://dev.lightning.community/overview/</a>
        <br><br>There are also managed solutions like <a href="https://voltage.cloud/">Voltage</a> for nodes if you would like a less manual approach to quickly get set up to accept Bitcoin via lightning at your business. After setting up your Voltage
        account, you can connect an app like <a href="https://zaphq.io/download">Zap</a> on your phone to accept payments for goods and services.
        <br><br>If you don't have a business and would like a less manual approach overall, check out <a href="https://getumbrel.com/">Umbrel</a>.
        <br><br>If you don't care to self-host a lightning node at all, you can use any wallet phone app that supports the lightning network like Blockstream Green, Muun, and more.
        <br /><br />
        <b>a. Installation Steps</b>
        <br /><br />
        <blockquote class="indent">
            1) Export the path for the go package that was installed earlier in this guide. Run this in a new terminal window:
            <br /><br />
            <code>echo "export PATH=$PATH:~/go/bin:/usr/local/go/bin" >>
          ~/.bashrc</code>
            <br /><br /> 2) Clone the LND repository:
            <br /><br />
            <code>git clone https://github.com/lightningnetwork/lnd.git</code>
            <br /><br /> 3) Run the following command:
            <br /><br />
            <code>cd lnd && git checkout v0.14.1-beta && make && make install
          tags="autopilotrpc chainrpc invoicesrpc routerrpc signrpc walletrpc
          watchtowerrpc wtclientrpc"</code>
            <br /><br /> 4) Create the LND config directory, copy and modify the sample configuration file:
            <br /><br />
            <code>mkdir ~/.lnd/ && cp ~/lnd/sample-lnd.conf ~/.lnd/lnd.conf && nano
          ~/.lnd/lnd.conf</code>
            <br><br>Comment out the line that says "bitcoin.node=btcd" and uncomment the line that says "; bitcoin.node=bitcoind", they are next to eachother.
            <br><br> Then, under the "[Bitcoin]" heading, comment out the line that says "bitcoin.simnet=true" and uncomment the line that says "; bitcoin.mainnet=true".
            <br /><br /> 5) Save and close the file, then reboot the machine.
        </blockquote>
        <br /><br />
        <b>b. How do I confirm that it is working?</b>
        <br /><br />
        <blockquote class="indent">
            1) Run the following in the terminal:
            <br /><br />
            <code>lnd</code>
            <br /><br /> You should see several lines of output, ending in one from [INF] LTND stating that it is waiting for a wallet password. You can now use lncli from any other terminal.

            <br><br>2) You may now choose to generate a lightning wallet, fund it with a Bitcoin transaction, and allocate some of it to operate a channel between another lightning node. You are rewarded with routing fees when your channel is utilized
            and your funds are safe in escrow.

            <br><br><a href="https://github.com/lightninglabs/lightning-terminal">Lightning Terminal</a> is a nice tool for node management. If you set up your lightning node by following this guide, you already have the required tags present for LND
            when we compiled it. You can skip right to the <a href="https://docs.lightning.engineering/lightning-network-tools/lightning-terminal/get-lit#docs-internal-guid-ae172929-7fff-f9d0-7921-e6f8acc92f53">"Install litd" section of this page</a>.

            <br><br>You should also create an account at <a href="https://1ml.com/">1ml.com</a> and register your node so you can see the publicly accessible information about the nodes and channels you're connected to.
        </blockquote>
        <br /><br /><br />

        <!--  -->
        <!--  -->
        <!--  -->

        <a id="disaster-scenario-preparation">
            <h1>Disaster Scenario Preparation</h1>
        </a>
        <br /><br />
        <b>What If the Power Goes Out?</b>
        <br /><br /> 1) UPS battery backups
        <br /><br />
        <blockquote class="indent">
            a. In many power outage situations, your internet connection is likely still active if the local DNS hardware is still online. Connecting your router, modem, and computer to a UPS battery backup solution will keep your full stack Bitcoin implementation
            online and functioning.
        </blockquote>
        <br /><br /> If you want to take this a step further, you can explore solar or other natural / renewable energy options.
        <br /><br /><br />
        <b>What If the Internet Goes Down?</b>
        <br /><br /> 1) Houston, we have a problem...
        <br /><br />
        <blockquote class="indent">
            a. If the terrestrial internet were to “go down” ... all banking services, websites, shipping logistics systems, social media platforms, etc. would not be available. We would have bigger fish to fry than worrying about whether you can use your Bitcoin,
            but the good news is that we don’t have to worry at all.
            <br /><br /> b. If your internet connection does not rely on terrestrial infrastructure for connecting other than the hardware in your home (I.e.
            <a href="https://www.starlink.com/">Starlink</a>), and you have a battery backup or solar solution, you basically cannot be stopped. It would take an act of God for you to not be able to access and use, or mine Bitcoin.
            <br /><br /> c. Connect to the Bitcoin network via direct connection to a Bitcoin node satellite in orbit. This is plan B, the backup to the already very resilient non-terrestrial dependent internet connection. I’m not going to cover how to
            connect to them in this guide, but you should know that the option is available to you. Check out the <a href="https://help.blockstream.com/hc/en-us/categories/900000061466-Blockstream-Satellite">Blockstream
        Satellite guides</a> for more information.
            <br /><br /> d. With the direct satellite connection set up, you would be able to operate your full node and mine Bitcoin even if the entire internet were to disappear. That is even less likely than the terrestrial internet going down, but
            it is nice to know just how robust the Bitcoin network is.
        </blockquote>
        <br /><br />
    </div>
</body>

<script src="scripts/hf_load.js"></script>

</html>

<!-- few -->